syntax = "proto3";

package meshtastic;

import "nanopb.proto";
import "validate/validate.proto";

option csharp_namespace = "Meshtastic.Protobufs";
option go_package = "github.com/meshtastic/go/generated";
option java_outer_classname = "XmodemProtos";
option java_package = "org.meshtastic.proto";
option swift_prefix = "";

message XModem {
  enum Control {
    NUL = 0;
    SOH = 1;
    STX = 2;
    EOT = 4;
    ACK = 6;
    NAK = 21;
    CAN = 24;
    CTRLZ = 26;
  }

  Control control = 1;
  uint32 seq = 2 [
    (nanopb).int_size = IS_16,
    (validate.rules).uint32 = {gte: 0, lte: 65535}
  ];
  uint32 crc16 = 3 [
    (nanopb).int_size = IS_16,
    (validate.rules).uint32 = {gte: 0, lte: 65535}
  ];
  bytes buffer = 4 [
    (nanopb).max_size = 128,
    (validate.rules).bytes = {max_len: 128}
  ];
}
